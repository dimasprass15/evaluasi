<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Belajar Mad Thobi'i - Pembelajaran Quran Anak</title>
    <style>
        body {
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Arial', sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            font-size: 18px;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .header h1 {
            color: #2c3e50;
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        .header p {
            color: #7f8c8d;
            font-size: 1.2rem;
        }
        
        .section {
            margin-bottom: 40px;
            padding: 25px;
            border-radius: 15px;
            background: #f8f9fa;
            border-left: 5px solid #3498db;
        }
        
        .section h2 {
            color: #2c3e50;
            font-size: 1.8rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .definition {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            font-size: 1.1rem;
            line-height: 1.6;
        }
        
        .rules-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .rule-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            border: 2px solid #e74c3c;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .interactive-rule {
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .interactive-rule:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 30px rgba(231, 76, 60, 0.3);
            border-color: #c0392b;
        }
        
        .interactive-rule:active {
            transform: translateY(-5px) scale(0.98);
        }
        
        .rule-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .rule-status {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            text-align: center;
            margin-top: 15px;
            font-weight: bold;
        }
        
        #madExplanationModal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 2000;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease-out;
        }
        
        .explanation-content {
            background: white;
            border-radius: 20px;
            padding: 30px;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
            margin: 20px;
            position: relative;
            animation: slideInUp 0.4s ease-out;
        }
        
        .explanation-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            border-bottom: 2px solid #ecf0f1;
            padding-bottom: 15px;
        }
        
        .close-btn {
            background: #e74c3c;
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .close-btn:hover {
            background: #c0392b;
            transform: rotate(90deg);
        }
        
        .step-by-step {
            display: grid;
            gap: 20px;
            margin: 20px 0;
        }
        
        .step {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            padding: 20px;
            border-radius: 15px;
            position: relative;
            overflow: hidden;
        }
        
        .step-number {
            position: absolute;
            top: -10px;
            right: -10px;
            background: rgba(255,255,255,0.2);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        .step h4 {
            margin: 0 0 10px 0;
            font-size: 1.3rem;
        }
        
        .step-arabic {
            font-size: 2.5rem;
            text-align: center;
            margin: 15px 0;
            font-family: 'Times New Roman', serif;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .interactive-examples {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .mini-example {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .mini-example:hover {
            background: rgba(255,255,255,0.2);
            border-color: rgba(255,255,255,0.5);
            transform: translateY(-3px);
        }
        
        .mini-example-arabic {
            font-size: 1.8rem;
            margin-bottom: 8px;
            font-family: 'Times New Roman', serif;
        }
        
        .mini-example-meaning {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideInUp {
            from { 
                opacity: 0;
                transform: translateY(50px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .rule-card h3 {
            color: #e74c3c;
            margin-bottom: 10px;
            font-size: 1.3rem;
        }
        
        .arabic-text {
            font-size: 3rem;
            text-align: center;
            margin: 15px 0;
            color: #2c3e50;
            font-weight: bold;
            direction: rtl;
            font-family: 'Times New Roman', serif;
        }
        
        .examples-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .example-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            border: 2px solid #27ae60;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }
        
        .example-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(39, 174, 96, 0.3);
            border-color: #2ecc71;
        }
        
        .example-card.active {
            background: linear-gradient(135deg, #2ecc71, #27ae60);
            color: white;
            transform: scale(1.05);
        }
        
        .example-arabic {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 10px;
            direction: rtl;
            font-family: 'Times New Roman', serif;
        }
        
        .example-latin {
            display: none;
        }
        
        .example-meaning {
            font-size: 0.9rem;
            font-style: italic;
            color: #95a5a6;
        }
        
        .example-card.active .example-meaning {
            color: #ecf0f1;
        }
        
        .quiz-section {
            background: linear-gradient(135deg, #fd79a8, #e84393);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-top: 30px;
        }
        
        .quiz-question {
            font-size: 1.3rem;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .quiz-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .quiz-option {
            background: rgba(255,255,255,0.2);
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            border: 2px solid transparent;
        }
        
        .quiz-option:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
        }
        
        .quiz-option.correct {
            background: #27ae60;
            border-color: #2ecc71;
        }
        
        .quiz-option.wrong {
            background: #e74c3c;
            border-color: #c0392b;
        }
        
        .quiz-result {
            text-align: center;
            font-size: 1.2rem;
            margin-top: 15px;
            padding: 15px;
            border-radius: 10px;
            background: rgba(255,255,255,0.2);
        }
        
        .btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
            margin: 10px 5px;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .learning-modes {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .mode-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            border: 3px solid #3498db;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .mode-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 30px rgba(52, 152, 219, 0.3);
            border-color: #2980b9;
        }
        
        .mode-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }
        
        .mode-card h3 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1.4rem;
        }
        
        .mode-card p {
            color: #7f8c8d;
            margin-bottom: 15px;
        }
        
        .mode-progress {
            background: #ecf0f1;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            color: #2c3e50;
            font-weight: bold;
        }
        
        .interactive-learning {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-top: 20px;
        }
        
        .learning-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .learning-controls {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .btn-small {
            padding: 8px 15px;
            font-size: 0.9rem;
        }
        
        .current-example {
            background: rgba(255,255,255,0.15);
            padding: 40px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 25px;
            backdrop-filter: blur(10px);
        }
        
        .current-example .example-arabic {
            font-size: 4rem;
            font-weight: bold;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .current-example .example-latin {
            display: none;
        }
        
        .current-example .example-meaning {
            font-size: 1.2rem;
            opacity: 0.8;
        }
        
        .learning-actions {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }
        
        .btn-practice {
            background: linear-gradient(135deg, #00b894, #00a085);
        }
        
        .btn-understand {
            background: linear-gradient(135deg, #00b894, #00a085);
        }
        
        .btn-difficult {
            background: linear-gradient(135deg, #fdcb6e, #e17055);
        }
        
        .btn-back {
            background: linear-gradient(135deg, #636e72, #2d3436);
        }
        
        .learning-progress-bar {
            width: 100%;
            height: 12px;
            background: rgba(255,255,255,0.2);
            border-radius: 6px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        
        .practice-mode {
            background: linear-gradient(135deg, #fd79a8, #e84393);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-top: 20px;
        }
        
        .practice-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .practice-card {
            background: rgba(255,255,255,0.2);
            padding: 20px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            border: 2px solid transparent;
        }
        
        .practice-card:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-3px);
        }
        
        .practice-card.mastered {
            border-color: #00b894;
            background: rgba(0, 184, 148, 0.3);
        }
        
        .practice-card.difficult {
            border-color: #fdcb6e;
            background: rgba(253, 203, 110, 0.3);
        }
        
        .progress-bar {
            width: 100%;
            height: 10px;
            background: #ecf0f1;
            border-radius: 5px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #2ecc71, #27ae60);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        @keyframes fadeInOut {
            0% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
            20% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
            80% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
            100% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }
        
        @keyframes slideInRight {
            0% { transform: translateX(100%); opacity: 0; }
            100% { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes slideOutRight {
            0% { transform: translateX(0); opacity: 1; }
            100% { transform: translateX(100%); opacity: 0; }
        }
        
        @keyframes bounceIn {
            0% { transform: translate(-50%, -50%) scale(0.3); opacity: 0; }
            50% { transform: translate(-50%, -50%) scale(1.05); }
            70% { transform: translate(-50%, -50%) scale(0.9); }
            100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
        }
        
        @keyframes bounceOut {
            0% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
            100% { transform: translate(-50%, -50%) scale(0.3); opacity: 0; }
        }
        
        .example-card:hover {
            animation: bounce 0.6s ease-in-out;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 20px;
                margin: 10px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .arabic-text {
                font-size: 2.5rem;
            }
            
            .example-arabic {
                font-size: 2rem;
            }
            
            .examples-container {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🕌 Belajar Mad Thobi'i 📖</h1>
            <p>Pembelajaran Tajwid yang Menyenangkan untuk Anak-anak</p>
        </div>

        <div class="section">
            <h2>📚 Apa itu Mad Thobi'i?</h2>
            <div class="definition">
                <strong>Mad Thobi'i</strong> adalah bacaan panjang alami yang terjadi ketika huruf mad (ا و ي) bertemu dengan harakat yang sesuai. Mad ini dibaca dengan panjang 2 harakat (sekitar 1 detik).
            </div>
        </div>

        <div class="section">
            <h2>📋 Aturan Mad Thobi'i</h2>
            <p style="text-align: center; margin-bottom: 30px; font-size: 1.1rem; color: #7f8c8d;">
                Klik pada setiap jenis Mad untuk melihat penjelasan interaktif!
            </p>
            <div class="rules-grid">
                <div class="rule-card interactive-rule" onclick="showMadExplanation('alif')" id="rule-alif">
                    <div class="rule-icon">📖</div>
                    <h3>1. Alif Mad (ا)</h3>
                    <div class="arabic-text">بَا - تَا - ثَا</div>
                    <p>Huruf Alif setelah harakat Fathah</p>
                    <div class="rule-status">Klik untuk belajar!</div>
                </div>
                <div class="rule-card interactive-rule" onclick="showMadExplanation('waw')" id="rule-waw">
                    <div class="rule-icon">🌙</div>
                    <h3>2. Waw Mad (و)</h3>
                    <div class="arabic-text">بُو - تُو - ثُو</div>
                    <p>Huruf Waw sukun setelah harakat Dhommah</p>
                    <div class="rule-status">Klik untuk belajar!</div>
                </div>
                <div class="rule-card interactive-rule" onclick="showMadExplanation('ya')" id="rule-ya">
                    <div class="rule-icon">⭐</div>
                    <h3>3. Ya Mad (ي)</h3>
                    <div class="arabic-text">بِي - تِي - ثِي</div>
                    <p>Huruf Ya sukun setelah harakat Kasroh</p>
                    <div class="rule-status">Klik untuk belajar!</div>
                </div>
            </div>
            
            <!-- Interactive explanation modal -->
            <div id="madExplanationModal" style="display: none;">
                <div class="explanation-content">
                    <div class="explanation-header">
                        <h3 id="explanationTitle"></h3>
                        <button class="close-btn" onclick="closeMadExplanation()">✕</button>
                    </div>
                    <div id="explanationBody"></div>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>🎯 Pembelajaran Interaktif</h2>
            <p>Mari belajar Mad Thobi'i secara bertahap! Pilih jenis Mad yang ingin dipelajari:</p>
            
            <div class="learning-modes">
                <div class="mode-card" onclick="startLearningMode('Alif Mad')">
                    <div class="mode-icon">📖</div>
                    <h3>Alif Mad</h3>
                    <p>Belajar huruf Alif setelah Fathah</p>
                    <div class="mode-progress" id="progress-alif">0/35 selesai</div>
                </div>
                <div class="mode-card" onclick="startLearningMode('Waw Mad')">
                    <div class="mode-icon">🌙</div>
                    <h3>Waw Mad</h3>
                    <p>Belajar huruf Waw setelah Dhommah</p>
                    <div class="mode-progress" id="progress-waw">0/35 selesai</div>
                </div>
                <div class="mode-card" onclick="startLearningMode('Ya Mad')">
                    <div class="mode-icon">⭐</div>
                    <h3>Ya Mad</h3>
                    <p>Belajar huruf Ya setelah Kasroh</p>
                    <div class="mode-progress" id="progress-ya">0/30 selesai</div>
                </div>
            </div>
            
            <div class="interactive-learning" id="learningArea" style="display: none;">
                <div class="learning-header">
                    <h3 id="currentModeTitle">Belajar Mad Thobi'i</h3>
                    <div class="learning-controls">
                        <button class="btn btn-small" onclick="previousExample()">⬅️ Sebelumnya</button>
                        <span id="exampleCounter">1/10</span>
                        <button class="btn btn-small" onclick="nextExample()">Berikutnya ➡️</button>
                    </div>
                </div>
                
                <div class="current-example" id="currentExample">
                    <!-- Current example will be shown here -->
                </div>
                
                <div class="learning-actions">
                    <button class="btn btn-practice" onclick="practiceCurrentExample()">🔊 Dengar Lagi</button>
                    <button class="btn btn-understand" onclick="markAsUnderstood()">✅ Sudah Paham</button>
                    <button class="btn btn-difficult" onclick="markAsDifficult()">🤔 Sulit, Ulangi Nanti</button>
                </div>
                
                <div class="learning-progress-bar">
                    <div class="progress-fill" id="learningProgressFill"></div>
                </div>
                
                <button class="btn btn-back" onclick="backToModes()">🏠 Kembali ke Menu</button>
            </div>
            
            <div class="practice-mode" id="practiceArea" style="display: none;">
                <h3>🎮 Mode Latihan</h3>
                <p>Latih kata-kata yang sudah dipelajari!</p>
                <div class="practice-grid" id="practiceGrid">
                    <!-- Practice cards will be shown here -->
                </div>
                <button class="btn btn-back" onclick="backToModes()">🏠 Kembali ke Menu</button>
            </div>
        </div>

        <div class="quiz-section">
            <h2>🎮 Kuis Mad Thobi'i</h2>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div id="quizContainer">
                <!-- Quiz will be populated by JavaScript -->
            </div>
            <button class="btn" onclick="nextQuestion()">Soal Berikutnya</button>
            <button class="btn" onclick="resetQuiz()">Mulai Ulang</button>
        </div>
    </div>

    <script>
        const examples = [
            // Alif Mad Examples (35 contoh)
            {
                arabic: "قَالَ",
                latin: "qaa-la",
                meaning: "dia berkata",
                type: "Alif Mad",
                sound: "🔊"
            },
            {
                arabic: "كِتَابَ",
                latin: "ki-taa-ba",
                meaning: "kitab",
                type: "Alif Mad",
                sound: "🔊"
            },
            {
                arabic: "جَاءَ",
                latin: "jaa-a",
                meaning: "datang",
                type: "Alif Mad",
                sound: "🔊"
            },
            {
                arabic: "مَاءَ",
                latin: "maa-a",
                meaning: "air",
                type: "Alif Mad",
                sound: "🔊"
            },
            {
                arabic: "بَابَ",
                latin: "baa-ba",
                meaning: "pintu",
                type: "Alif Mad",
                sound: "🔊"
            },
            {
                arabic: "نَارَ",
                latin: "naa-ra",
                meaning: "api",
                type: "Alif Mad",
                sound: "🔊"
            },
            {
                arabic: "شَاءَ",
                latin: "syaa-a",
                meaning: "dia kehendaki",
                type: "Alif Mad",
                sound: "🔊"
            },
            {
                arabic: "دَارَ",
                latin: "daa-ra",
                meaning: "rumah",
                type: "Alif Mad",
                sound: "🔊"
            },
            {
                arabic: "نَامَ",
                latin: "naa-ma",
                meaning: "tidur",
                type: "Alif Mad",
                sound: "🔊"
            },
            {
                arabic: "سَاعَةَ",
                latin: "saa-a-ta",
                meaning: "jam",
                type: "Alif Mad",
                sound: "🔊"
            },
            {
                arabic: "طَالِبَ",
                latin: "taa-li-ba",
                meaning: "siswa",
                type: "Alif Mad",
                sound: "🔊"
            },
            {
                arabic: "خَالِدَ",
                latin: "khaa-li-da",
                meaning: "nama orang",
                type: "Alif Mad",
                sound: "🔊"
            },
            {
                arabic: "صَالِحَ",
                latin: "shaa-li-ha",
                meaning: "saleh",
                type: "Alif Mad",
                sound: "🔊"
            },
            {
                arabic: "فَاكِهَةَ",
                latin: "faa-ki-ha-ta",
                meaning: "buah",
                type: "Alif Mad",
                sound: "🔊"
            },
            {
                arabic: "جَامِعَ",
                latin: "jaa-mi-a",
                meaning: "masjid",
                type: "Alif Mad",
                sound: "🔊"
            },
            {
                arabic: "كَاتِبَ",
                latin: "kaa-ti-ba",
                meaning: "penulis",
                type: "Alif Mad",
                sound: "🔊"
            },
            {
                arabic: "قَارِئَ",
                latin: "qaa-ri-a",
                meaning: "pembaca",
                type: "Alif Mad",
                sound: "🔊"
            },
            {
                arabic: "سَافَرَ",
                latin: "saa-fa-ra",
                meaning: "bepergian",
                type: "Alif Mad",
                sound: "🔊"
            },
            {
                arabic: "حَاضِرَ",
                latin: "haa-dhi-ra",
                meaning: "hadir",
                type: "Alif Mad",
                sound: "🔊"
            },
            {
                arabic: "غَائِبَ",
                latin: "ghaa-i-ba",
                meaning: "tidak hadir",
                type: "Alif Mad",
                sound: "🔊"
            },
            {
                arabic: "رَاكِبَ",
                latin: "raa-ki-ba",
                meaning: "pengendara",
                type: "Alif Mad",
                sound: "🔊"
            },
            {
                arabic: "لَاعِبَ",
                latin: "laa-i-ba",
                meaning: "pemain",
                type: "Alif Mad",
                sound: "🔊"
            },
            {
                arabic: "عَالِمَ",
                latin: "aa-li-ma",
                meaning: "ulama",
                type: "Alif Mad",
                sound: "🔊"
            },
            {
                arabic: "ظَالِمَ",
                latin: "zhaa-li-ma",
                meaning: "zalim",
                type: "Alif Mad",
                sound: "🔊"
            },
            {
                arabic: "حَاكِمَ",
                latin: "haa-ki-ma",
                meaning: "hakim",
                type: "Alif Mad",
                sound: "🔊"
            },
            {
                arabic: "تَاجِرَ",
                latin: "taa-ji-ra",
                meaning: "pedagang",
                type: "Alif Mad",
                sound: "🔊"
            },
            {
                arabic: "زَائِرَ",
                latin: "zaa-i-ra",
                meaning: "tamu",
                type: "Alif Mad",
                sound: "🔊"
            },
            {
                arabic: "شَاكِرَ",
                latin: "syaa-ki-ra",
                meaning: "bersyukur",
                type: "Alif Mad",
                sound: "🔊"
            },
            {
                arabic: "صَابِرَ",
                latin: "shaa-bi-ra",
                meaning: "sabar",
                type: "Alif Mad",
                sound: "🔊"
            },
            {
                arabic: "نَاصِرَ",
                latin: "naa-shi-ra",
                meaning: "penolong",
                type: "Alif Mad",
                sound: "🔊"
            },
            {
                arabic: "فَاتِحَ",
                latin: "faa-ti-ha",
                meaning: "pembuka",
                type: "Alif Mad",
                sound: "🔊"
            },
            {
                arabic: "خَاتَمَ",
                latin: "khaa-ta-ma",
                meaning: "cincin",
                type: "Alif Mad",
                sound: "🔊"
            },
            {
                arabic: "مَاهِرَ",
                latin: "maa-hi-ra",
                meaning: "mahir",
                type: "Alif Mad",
                sound: "🔊"
            },
            {
                arabic: "طَاهِرَ",
                latin: "taa-hi-ra",
                meaning: "suci",
                type: "Alif Mad",
                sound: "🔊"
            },
            {
                arabic: "بَاقِي",
                latin: "baa-qii",
                meaning: "sisa",
                type: "Alif Mad",
                sound: "🔊"
            },
            
            // Waw Mad Examples (35 contoh)
            {
                arabic: "يَقُولُ",
                latin: "ya-quu-lu",
                meaning: "dia berkata",
                type: "Waw Mad",
                sound: "🔊"
            },
            {
                arabic: "نُورَ",
                latin: "nuu-ra",
                meaning: "cahaya",
                type: "Waw Mad",
                sound: "🔊"
            },
            {
                arabic: "سُوقَ",
                latin: "suu-qa",
                meaning: "pasar",
                type: "Waw Mad",
                sound: "🔊"
            },
            {
                arabic: "دُورَ",
                latin: "duu-ra",
                meaning: "rumah-rumah",
                type: "Waw Mad",
                sound: "🔊"
            },
            {
                arabic: "عُيُونَ",
                latin: "u-yuu-na",
                meaning: "mata-mata",
                type: "Waw Mad",
                sound: "🔊"
            },
            {
                arabic: "قُلُوبَ",
                latin: "qu-luu-ba",
                meaning: "hati-hati",
                type: "Waw Mad",
                sound: "🔊"
            },
            {
                arabic: "رُوحَ",
                latin: "ruu-ha",
                meaning: "roh",
                type: "Waw Mad",
                sound: "🔊"
            },
            {
                arabic: "فُصُولَ",
                latin: "fu-shuu-la",
                meaning: "musim-musim",
                type: "Waw Mad",
                sound: "🔊"
            },
            {
                arabic: "جُنُودَ",
                latin: "ju-nuu-da",
                meaning: "tentara",
                type: "Waw Mad",
                sound: "🔊"
            },
            {
                arabic: "حُدُودَ",
                latin: "hu-duu-da",
                meaning: "batas-batas",
                type: "Waw Mad",
                sound: "🔊"
            },
            {
                arabic: "خُرُوجَ",
                latin: "khu-ruu-ja",
                meaning: "keluar",
                type: "Waw Mad",
                sound: "🔊"
            },
            {
                arabic: "دُخُولَ",
                latin: "du-khuu-la",
                meaning: "masuk",
                type: "Waw Mad",
                sound: "🔊"
            },
            {
                arabic: "وُضُوءَ",
                latin: "wu-dhuu-a",
                meaning: "wudhu",
                type: "Waw Mad",
                sound: "🔊"
            },
            {
                arabic: "سُجُودَ",
                latin: "su-juu-da",
                meaning: "sujud",
                type: "Waw Mad",
                sound: "🔊"
            },
            {
                arabic: "رُكُوعَ",
                latin: "ru-kuu-a",
                meaning: "rukuk",
                type: "Waw Mad",
                sound: "🔊"
            },
            {
                arabic: "قُعُودَ",
                latin: "qu-uu-da",
                meaning: "duduk",
                type: "Waw Mad",
                sound: "🔊"
            },
            {
                arabic: "وُقُوفَ",
                latin: "wu-quu-fa",
                meaning: "berdiri",
                type: "Waw Mad",
                sound: "🔊"
            },
            {
                arabic: "نُزُولَ",
                latin: "nu-zuu-la",
                meaning: "turun",
                type: "Waw Mad",
                sound: "🔊"
            },
            {
                arabic: "صُعُودَ",
                latin: "shu-uu-da",
                meaning: "naik",
                type: "Waw Mad",
                sound: "🔊"
            },
            {
                arabic: "غُرُوبَ",
                latin: "ghu-ruu-ba",
                meaning: "terbenam",
                type: "Waw Mad",
                sound: "🔊"
            },
            {
                arabic: "طُلُوعَ",
                latin: "tu-luu-a",
                meaning: "terbit",
                type: "Waw Mad",
                sound: "🔊"
            },
            {
                arabic: "شُرُوقَ",
                latin: "syu-ruu-qa",
                meaning: "matahari terbit",
                type: "Waw Mad",
                sound: "🔊"
            },
            {
                arabic: "مَجْنُونَ",
                latin: "maj-nuu-na",
                meaning: "gila",
                type: "Waw Mad",
                sound: "🔊"
            },
            {
                arabic: "مَسْرُورَ",
                latin: "mas-ruu-ra",
                meaning: "gembira",
                type: "Waw Mad",
                sound: "🔊"
            },
            {
                arabic: "مَشْهُورَ",
                latin: "masy-huu-ra",
                meaning: "terkenal",
                type: "Waw Mad",
                sound: "🔊"
            },
            {
                arabic: "مَحْسُوبَ",
                latin: "mah-suu-ba",
                meaning: "terhitung",
                type: "Waw Mad",
                sound: "🔊"
            },
            {
                arabic: "مَكْتُوبَ",
                latin: "mak-tuu-ba",
                meaning: "tertulis",
                type: "Waw Mad",
                sound: "🔊"
            },
            {
                arabic: "مَقْرُوءَ",
                latin: "maq-ruu-a",
                meaning: "terbaca",
                type: "Waw Mad",
                sound: "🔊"
            },
            {
                arabic: "مَسْمُوعَ",
                latin: "mas-muu-a",
                meaning: "terdengar",
                type: "Waw Mad",
                sound: "🔊"
            },
            {
                arabic: "مَفْهُومَ",
                latin: "maf-huu-ma",
                meaning: "dipahami",
                type: "Waw Mad",
                sound: "🔊"
            },
            {
                arabic: "مَحْلُولَ",
                latin: "mah-luu-la",
                meaning: "larut",
                type: "Waw Mad",
                sound: "🔊"
            },
            {
                arabic: "مَمْنُوعَ",
                latin: "mam-nuu-a",
                meaning: "dilarang",
                type: "Waw Mad",
                sound: "🔊"
            },
            {
                arabic: "مَوْجُودَ",
                latin: "mau-juu-da",
                meaning: "ada",
                type: "Waw Mad",
                sound: "🔊"
            },
            {
                arabic: "مَفْقُودَ",
                latin: "maf-quu-da",
                meaning: "hilang",
                type: "Waw Mad",
                sound: "🔊"
            },
            {
                arabic: "مَحْمُودَ",
                latin: "mah-muu-da",
                meaning: "terpuji",
                type: "Waw Mad",
                sound: "🔊"
            },
            
            // Ya Mad Examples (30 contoh)
            {
                arabic: "فِيهَا",
                latin: "fii-haa",
                meaning: "di dalamnya",
                type: "Ya Mad",
                sound: "🔊"
            },
            {
                arabic: "بَيْتَ",
                latin: "bai-ta",
                meaning: "rumah",
                type: "Ya Mad",
                sound: "🔊"
            },
            {
                arabic: "فِيلَ",
                latin: "fii-la",
                meaning: "gajah",
                type: "Ya Mad",
                sound: "🔊"
            },
            {
                arabic: "طِينَ",
                latin: "tii-na",
                meaning: "tanah liat",
                type: "Ya Mad",
                sound: "🔊"
            },
            {
                arabic: "سِينَ",
                latin: "sii-na",
                meaning: "huruf sin",
                type: "Ya Mad",
                sound: "🔊"
            },
            {
                arabic: "زِيتَ",
                latin: "zii-ta",
                meaning: "minyak zaitun",
                type: "Ya Mad",
                sound: "🔊"
            },
            {
                arabic: "دِينَ",
                latin: "dii-na",
                meaning: "agama",
                type: "Ya Mad",
                sound: "🔊"
            },
            {
                arabic: "كِيسَ",
                latin: "kii-sa",
                meaning: "kantong",
                type: "Ya Mad",
                sound: "🔊"
            },
            {
                arabic: "مِيزَانَ",
                latin: "mii-zaa-na",
                meaning: "timbangan",
                type: "Ya Mad",
                sound: "🔊"
            },
            {
                arabic: "سِيرَةَ",
                latin: "sii-ra-ta",
                meaning: "biografi",
                type: "Ya Mad",
                sound: "🔊"
            },
            {
                arabic: "طِيبَ",
                latin: "tii-ba",
                meaning: "harum",
                type: "Ya Mad",
                sound: "🔊"
            },
            {
                arabic: "جِيرَانَ",
                latin: "jii-raa-na",
                meaning: "tetangga",
                type: "Ya Mad",
                sound: "🔊"
            },
            {
                arabic: "حِيطَانَ",
                latin: "hii-taa-na",
                meaning: "dinding",
                type: "Ya Mad",
                sound: "🔊"
            },
            {
                arabic: "خِيَارَ",
                latin: "khii-yaa-ra",
                meaning: "mentimun",
                type: "Ya Mad",
                sound: "🔊"
            },
            {
                arabic: "رِيحَ",
                latin: "rii-ha",
                meaning: "angin",
                type: "Ya Mad",
                sound: "🔊"
            },
            {
                arabic: "شِيبَ",
                latin: "syii-ba",
                meaning: "uban",
                type: "Ya Mad",
                sound: "🔊"
            },
            {
                arabic: "غِيبَةَ",
                latin: "ghii-ba-ta",
                meaning: "ghibah",
                type: "Ya Mad",
                sound: "🔊"
            },
            {
                arabic: "فِيضَ",
                latin: "fii-dha",
                meaning: "limpahan",
                type: "Ya Mad",
                sound: "🔊"
            },
            {
                arabic: "قِيمَةَ",
                latin: "qii-ma-ta",
                meaning: "nilai",
                type: "Ya Mad",
                sound: "🔊"
            },
            {
                arabic: "لَيْلَةَ",
                latin: "lai-la-ta",
                meaning: "malam",
                type: "Ya Mad",
                sound: "🔊"
            },
            {
                arabic: "مِيلَ",
                latin: "mii-la",
                meaning: "mil",
                type: "Ya Mad",
                sound: "🔊"
            },
            {
                arabic: "نِيلَ",
                latin: "nii-la",
                meaning: "sungai nil",
                type: "Ya Mad",
                sound: "🔊"
            },
            {
                arabic: "هِيبَةَ",
                latin: "hii-ba-ta",
                meaning: "wibawa",
                type: "Ya Mad",
                sound: "🔊"
            },
            {
                arabic: "وَيْلَ",
                latin: "wai-la",
                meaning: "celaka",
                type: "Ya Mad",
                sound: "🔊"
            },
            {
                arabic: "يَاسِينَ",
                latin: "yaa-sii-na",
                meaning: "surat yasin",
                type: "Ya Mad",
                sound: "🔊"
            },
            {
                arabic: "عِيدَ",
                latin: "ii-da",
                meaning: "hari raya",
                type: "Ya Mad",
                sound: "🔊"
            },
            {
                arabic: "صَيْدَ",
                latin: "shai-da",
                meaning: "buruan",
                type: "Ya Mad",
                sound: "🔊"
            },
            {
                arabic: "بَيْعَ",
                latin: "bai-a",
                meaning: "jual beli",
                type: "Ya Mad",
                sound: "🔊"
            },
            {
                arabic: "ضَيْفَ",
                latin: "dhai-fa",
                meaning: "tamu",
                type: "Ya Mad",
                sound: "🔊"
            },
            {
                arabic: "سَيْفَ",
                latin: "sai-fa",
                meaning: "pedang",
                type: "Ya Mad",
                sound: "🔊"
            }
        ];

        const quizQuestions = [
            {
                question: "Manakah yang termasuk Mad Thobi'i dengan Alif Mad?",
                options: ["قَالَ", "يَقُولُ", "فِيهَا", "بَيْتٌ"],
                correct: 0,
                explanation: "قَالَ mengandung Alif Mad setelah harakat Fathah"
            },
            {
                question: "Berapa harakat panjang bacaan Mad Thobi'i?",
                options: ["1 harakat", "2 harakat", "3 harakat", "4 harakat"],
                correct: 1,
                explanation: "Mad Thobi'i dibaca dengan panjang 2 harakat"
            },
            {
                question: "Huruf apa saja yang bisa menjadi Mad Thobi'i?",
                options: ["ا و ي", "ب ت ث", "ح خ د", "ر ز س"],
                correct: 0,
                explanation: "Huruf Mad adalah Alif (ا), Waw (و), dan Ya (ي)"
            },
            {
                question: "Manakah contoh Waw Mad yang benar?",
                options: ["بَا", "بُو", "بِي", "بَيْ"],
                correct: 1,
                explanation: "بُو adalah contoh Waw Mad (Waw sukun setelah Dhommah)"
            }
        ];

        let currentQuestionIndex = 0;
        let score = 0;
        let answered = false;
        
        // Learning mode variables
        let currentLearningMode = '';
        let currentExamples = [];
        let currentExampleIndex = 0;
        let learnedExamples = {
            'Alif Mad': { understood: [], difficult: [] },
            'Waw Mad': { understood: [], difficult: [] },
            'Ya Mad': { understood: [], difficult: [] }
        };

        function startLearningMode(mode) {
            currentLearningMode = mode;
            currentExamples = examples.filter(ex => ex.type === mode);
            currentExampleIndex = 0;
            
            document.querySelector('.learning-modes').style.display = 'none';
            document.getElementById('learningArea').style.display = 'block';
            document.getElementById('currentModeTitle').textContent = `Belajar ${mode}`;
            
            showCurrentExample();
            updateLearningProgress();
        }
        
        function showCurrentExample() {
            if (currentExampleIndex >= currentExamples.length) {
                showCompletionMessage();
                return;
            }
            
            const example = currentExamples[currentExampleIndex];
            const container = document.getElementById('currentExample');
            
            container.innerHTML = `
                <div class="example-arabic">${example.arabic}</div>
                <div class="example-meaning">"${example.meaning}"</div>
                <div style="margin-top: 15px; font-size: 1.1rem; opacity: 0.8;">
                    Jenis: ${example.type} | Panjang: 2 harakat
                </div>
            `;
            
            document.getElementById('exampleCounter').textContent = 
                `${currentExampleIndex + 1}/${currentExamples.length}`;
            
            // Auto play sound effect
            practiceCurrentExample();
        }
        
        function nextExample() {
            if (currentExampleIndex < currentExamples.length - 1) {
                currentExampleIndex++;
                showCurrentExample();
                updateLearningProgress();
            }
        }
        
        function previousExample() {
            if (currentExampleIndex > 0) {
                currentExampleIndex--;
                showCurrentExample();
                updateLearningProgress();
            }
        }
        
        function practiceCurrentExample() {
            const example = currentExamples[currentExampleIndex];
            const container = document.getElementById('currentExample');
            
            // Visual feedback for "sound"
            container.style.animation = 'pulse 0.8s ease-in-out';
            setTimeout(() => {
                container.style.animation = '';
            }, 800);
            
            // Show pronunciation tip
            showPronunciationTip(example);
        }
        
        function showPronunciationTip(example) {
            const tip = document.createElement('div');
            tip.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(135deg, #00b894, #00a085);
                color: white;
                padding: 15px 20px;
                border-radius: 10px;
                font-size: 1.1rem;
                z-index: 1000;
                box-shadow: 0 5px 20px rgba(0,0,0,0.3);
                animation: slideInRight 0.5s ease-out;
            `;
            
            tip.innerHTML = `
                🔊 <span style="font-size: 1.3rem; font-family: 'Times New Roman', serif;">${example.arabic}</span> - "${example.meaning}" - Panjang 2 harakat
            `;
            
            document.body.appendChild(tip);
            
            setTimeout(() => {
                tip.style.animation = 'slideOutRight 0.5s ease-in';
                setTimeout(() => {
                    if (document.body.contains(tip)) {
                        document.body.removeChild(tip);
                    }
                }, 500);
            }, 2000);
        }
        
        function markAsUnderstood() {
            const example = currentExamples[currentExampleIndex];
            const learned = learnedExamples[currentLearningMode];
            
            if (!learned.understood.includes(example.arabic)) {
                learned.understood.push(example.arabic);
                // Remove from difficult if it was there
                learned.difficult = learned.difficult.filter(item => item !== example.arabic);
            }
            
            showFeedback('✅ Bagus! Kata ini sudah kamu kuasai!', '#00b894');
            updateProgress();
            
            setTimeout(() => {
                nextExample();
            }, 1000);
        }
        
        function markAsDifficult() {
            const example = currentExamples[currentExampleIndex];
            const learned = learnedExamples[currentLearningMode];
            
            if (!learned.difficult.includes(example.arabic)) {
                learned.difficult.push(example.arabic);
                // Remove from understood if it was there
                learned.understood = learned.understood.filter(item => item !== example.arabic);
            }
            
            showFeedback('🤔 Tidak apa-apa! Kita akan ulangi kata ini nanti', '#fdcb6e');
            updateProgress();
            
            setTimeout(() => {
                nextExample();
            }, 1000);
        }
        
        function showFeedback(message, color) {
            const feedback = document.createElement('div');
            feedback.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: ${color};
                color: white;
                padding: 20px 30px;
                border-radius: 15px;
                font-size: 1.2rem;
                z-index: 1000;
                box-shadow: 0 10px 30px rgba(0,0,0,0.3);
                animation: bounceIn 0.5s ease-out;
            `;
            
            feedback.textContent = message;
            document.body.appendChild(feedback);
            
            setTimeout(() => {
                feedback.style.animation = 'bounceOut 0.5s ease-in';
                setTimeout(() => {
                    if (document.body.contains(feedback)) {
                        document.body.removeChild(feedback);
                    }
                }, 500);
            }, 1500);
        }
        
        function updateLearningProgress() {
            const progress = ((currentExampleIndex + 1) / currentExamples.length) * 100;
            document.getElementById('learningProgressFill').style.width = progress + '%';
        }
        
        function updateProgress() {
            const modes = ['Alif Mad', 'Waw Mad', 'Ya Mad'];
            modes.forEach(mode => {
                const understood = learnedExamples[mode].understood.length;
                const total = examples.filter(ex => ex.type === mode).length;
                const progressId = mode === 'Alif Mad' ? 'progress-alif' : 
                                 mode === 'Waw Mad' ? 'progress-waw' : 'progress-ya';
                document.getElementById(progressId).textContent = `${understood}/${total} selesai`;
            });
        }
        
        function showCompletionMessage() {
            const container = document.getElementById('currentExample');
            const understood = learnedExamples[currentLearningMode].understood.length;
            const total = currentExamples.length;
            
            container.innerHTML = `
                <div style="text-align: center;">
                    <div style="font-size: 3rem; margin-bottom: 20px;">🎉</div>
                    <h3>Selamat! Kamu sudah menyelesaikan ${currentLearningMode}!</h3>
                    <p style="font-size: 1.2rem; margin: 20px 0;">
                        Kata yang dikuasai: ${understood}/${total}
                    </p>
                    <button class="btn btn-practice" onclick="startPracticeMode()">
                        🎮 Latihan Kata yang Sudah Dipelajari
                    </button>
                </div>
            `;
        }
        
        function startPracticeMode() {
            const understoodWords = [];
            Object.keys(learnedExamples).forEach(mode => {
                learnedExamples[mode].understood.forEach(arabic => {
                    const example = examples.find(ex => ex.arabic === arabic);
                    if (example) understoodWords.push(example);
                });
            });
            
            if (understoodWords.length === 0) {
                alert('Belum ada kata yang dikuasai. Mari belajar dulu!');
                return;
            }
            
            document.getElementById('learningArea').style.display = 'none';
            document.getElementById('practiceArea').style.display = 'block';
            
            const grid = document.getElementById('practiceGrid');
            grid.innerHTML = '';
            
            understoodWords.forEach(example => {
                const card = document.createElement('div');
                card.className = 'practice-card mastered';
                card.onclick = () => practiceWord(example);
                
                card.innerHTML = `
                    <div style="font-size: 2rem; margin-bottom: 10px;">${example.arabic}</div>
                    <div style="font-size: 0.9rem; opacity: 0.8;">${example.meaning}</div>
                `;
                
                grid.appendChild(card);
            });
        }
        
        function practiceWord(example) {
            showPronunciationTip(example);
        }
        
        function backToModes() {
            document.getElementById('learningArea').style.display = 'none';
            document.getElementById('practiceArea').style.display = 'none';
            document.querySelector('.learning-modes').style.display = 'grid';
        }

        function toggleExample(index) {
            const cards = document.querySelectorAll('.example-card');
            const example = examples[index];
            
            cards.forEach((card, i) => {
                if (i === index) {
                    card.classList.toggle('active');
                    if (card.classList.contains('active')) {
                        // Simulasi suara dengan visual feedback
                        card.style.animation = 'pulse 0.5s ease-in-out';
                        setTimeout(() => {
                            card.style.animation = '';
                        }, 500);
                        
                        // Tampilkan pesan cara baca
                        showReadingTip(example);
                    }
                } else {
                    card.classList.remove('active');
                }
            });
        }
        
        function showReadingTip(example) {
            const tip = document.createElement('div');
            tip.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: linear-gradient(135deg, #2ecc71, #27ae60);
                color: white;
                padding: 20px;
                border-radius: 15px;
                font-size: 1.2rem;
                text-align: center;
                z-index: 1000;
                box-shadow: 0 10px 30px rgba(0,0,0,0.3);
                animation: fadeInOut 2s ease-in-out;
            `;
            
            tip.innerHTML = `
                <div style="font-size: 2rem; margin-bottom: 10px;">${example.arabic}</div>
                <div>"${example.meaning}"</div>
                <div style="font-size: 0.9rem; margin-top: 5px;">Panjang 2 harakat ⏱️</div>
            `;
            
            document.body.appendChild(tip);
            
            setTimeout(() => {
                document.body.removeChild(tip);
            }, 2000);
        }

        function displayQuestion() {
            if (currentQuestionIndex >= quizQuestions.length) {
                showFinalScore();
                return;
            }

            const question = quizQuestions[currentQuestionIndex];
            const container = document.getElementById('quizContainer');
            
            container.innerHTML = `
                <div class="quiz-question">
                    Soal ${currentQuestionIndex + 1}: ${question.question}
                </div>
                <div class="quiz-options">
                    ${question.options.map((option, index) => `
                        <div class="quiz-option" onclick="selectAnswer(${index})">
                            ${option}
                        </div>
                    `).join('')}
                </div>
                <div class="quiz-result" id="quizResult" style="display: none;"></div>
            `;
            
            answered = false;
            updateProgress();
        }

        function selectAnswer(selectedIndex) {
            if (answered) return;
            
            const question = quizQuestions[currentQuestionIndex];
            const options = document.querySelectorAll('.quiz-option');
            const result = document.getElementById('quizResult');
            
            answered = true;
            
            options.forEach((option, index) => {
                if (index === question.correct) {
                    option.classList.add('correct');
                } else if (index === selectedIndex && index !== question.correct) {
                    option.classList.add('wrong');
                }
            });
            
            if (selectedIndex === question.correct) {
                score++;
                result.innerHTML = `✅ Benar! ${question.explanation}`;
                result.style.background = 'rgba(46, 204, 113, 0.3)';
            } else {
                result.innerHTML = `❌ Salah. ${question.explanation}`;
                result.style.background = 'rgba(231, 76, 60, 0.3)';
            }
            
            result.style.display = 'block';
        }

        function nextQuestion() {
            if (!answered && currentQuestionIndex < quizQuestions.length) {
                alert('Silakan pilih jawaban terlebih dahulu!');
                return;
            }
            
            currentQuestionIndex++;
            displayQuestion();
        }

        function resetQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            answered = false;
            displayQuestion();
        }

        function showFinalScore() {
            const container = document.getElementById('quizContainer');
            const percentage = Math.round((score / quizQuestions.length) * 100);
            let message = '';
            
            if (percentage >= 80) {
                message = '🎉 Luar biasa! Kamu sudah menguasai Mad Thobi\'i!';
            } else if (percentage >= 60) {
                message = '👍 Bagus! Terus belajar ya!';
            } else {
                message = '💪 Jangan menyerah! Coba lagi untuk hasil yang lebih baik!';
            }
            
            container.innerHTML = `
                <div style="text-align: center; font-size: 1.5rem;">
                    <h3>🏆 Hasil Kuis</h3>
                    <p>Skor: ${score}/${quizQuestions.length} (${percentage}%)</p>
                    <p>${message}</p>
                </div>
            `;
        }

        function updateProgress() {
            const progress = (currentQuestionIndex / quizQuestions.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
        }

        function filterExamples(type) {
            const container = document.getElementById('examplesContainer');
            container.innerHTML = '';
            
            const filteredExamples = type === 'all' ? examples : examples.filter(ex => ex.type === type);
            
            filteredExamples.forEach((example, index) => {
                const card = document.createElement('div');
                card.className = 'example-card';
                card.onclick = () => toggleExample(examples.indexOf(example));
                
                card.innerHTML = `
                    <div class="example-arabic">${example.arabic}</div>
                    <div class="example-meaning">${example.meaning}</div>
                    <small>${example.type}</small>
                    <div style="font-size: 1.5rem; margin-top: 10px;">${example.sound}</div>
                `;
                
                container.appendChild(card);
            });
        }

        function showMadExplanation(type) {
            const modal = document.getElementById('madExplanationModal');
            const title = document.getElementById('explanationTitle');
            const body = document.getElementById('explanationBody');
            
            let content = '';
            
            if (type === 'alif') {
                title.textContent = '📖 Alif Mad - Penjelasan Lengkap';
                content = `
                    <div class="step-by-step">
                        <div class="step">
                            <div class="step-number">1</div>
                            <h4>🎯 Apa itu Alif Mad?</h4>
                            <p>Alif Mad terjadi ketika huruf Alif (ا) muncul setelah huruf yang berharakat Fathah (َ)</p>
                            <div class="step-arabic">بَا</div>
                            <p style="text-align: center;">Huruf Ba + Fathah + Alif = Bacaan panjang!</p>
                        </div>
                        
                        <div class="step">
                            <div class="step-number">2</div>
                            <h4>⏱️ Berapa Lama Dibaca?</h4>
                            <p>Alif Mad dibaca dengan panjang <strong>2 harakat</strong> (sekitar 1 detik)</p>
                            <div style="text-align: center; margin: 15px 0;">
                                <div style="display: inline-block; background: rgba(255,255,255,0.2); padding: 10px 20px; border-radius: 10px;">
                                    <span style="font-size: 1.5rem;">⏰ 1 detik = 2 harakat</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="step">
                            <div class="step-number">3</div>
                            <h4>📝 Contoh-contoh Alif Mad</h4>
                            <p>Klik pada contoh di bawah untuk mendengar cara bacanya:</p>
                            <div class="interactive-examples">
                                <div class="mini-example" onclick="playExample('قَالَ', 'dia berkata')">
                                    <div class="mini-example-arabic">قَالَ</div>
                                    <div class="mini-example-meaning">dia berkata</div>
                                </div>
                                <div class="mini-example" onclick="playExample('كِتَابَ', 'kitab')">
                                    <div class="mini-example-arabic">كِتَابَ</div>
                                    <div class="mini-example-meaning">kitab</div>
                                </div>
                                <div class="mini-example" onclick="playExample('جَاءَ', 'datang')">
                                    <div class="mini-example-arabic">جَاءَ</div>
                                    <div class="mini-example-meaning">datang</div>
                                </div>
                                <div class="mini-example" onclick="playExample('مَاءَ', 'air')">
                                    <div class="mini-example-arabic">مَاءَ</div>
                                    <div class="mini-example-meaning">air</div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            } else if (type === 'waw') {
                title.textContent = '🌙 Waw Mad - Penjelasan Lengkap';
                content = `
                    <div class="step-by-step">
                        <div class="step">
                            <div class="step-number">1</div>
                            <h4>🎯 Apa itu Waw Mad?</h4>
                            <p>Waw Mad terjadi ketika huruf Waw sukun (وْ) muncul setelah huruf yang berharakat Dhommah (ُ)</p>
                            <div class="step-arabic">بُو</div>
                            <p style="text-align: center;">Huruf Ba + Dhommah + Waw sukun = Bacaan panjang!</p>
                        </div>
                        
                        <div class="step">
                            <div class="step-number">2</div>
                            <h4>⏱️ Berapa Lama Dibaca?</h4>
                            <p>Waw Mad dibaca dengan panjang <strong>2 harakat</strong> (sekitar 1 detik)</p>
                            <div style="text-align: center; margin: 15px 0;">
                                <div style="display: inline-block; background: rgba(255,255,255,0.2); padding: 10px 20px; border-radius: 10px;">
                                    <span style="font-size: 1.5rem;">⏰ 1 detik = 2 harakat</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="step">
                            <div class="step-number">3</div>
                            <h4>📝 Contoh-contoh Waw Mad</h4>
                            <p>Klik pada contoh di bawah untuk mendengar cara bacanya:</p>
                            <div class="interactive-examples">
                                <div class="mini-example" onclick="playExample('يَقُولُ', 'dia berkata')">
                                    <div class="mini-example-arabic">يَقُولُ</div>
                                    <div class="mini-example-meaning">dia berkata</div>
                                </div>
                                <div class="mini-example" onclick="playExample('نُورَ', 'cahaya')">
                                    <div class="mini-example-arabic">نُورَ</div>
                                    <div class="mini-example-meaning">cahaya</div>
                                </div>
                                <div class="mini-example" onclick="playExample('سُوقَ', 'pasar')">
                                    <div class="mini-example-arabic">سُوقَ</div>
                                    <div class="mini-example-meaning">pasar</div>
                                </div>
                                <div class="mini-example" onclick="playExample('رُوحَ', 'roh')">
                                    <div class="mini-example-arabic">رُوحَ</div>
                                    <div class="mini-example-meaning">roh</div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            } else if (type === 'ya') {
                title.textContent = '⭐ Ya Mad - Penjelasan Lengkap';
                content = `
                    <div class="step-by-step">
                        <div class="step">
                            <div class="step-number">1</div>
                            <h4>🎯 Apa itu Ya Mad?</h4>
                            <p>Ya Mad terjadi ketika huruf Ya sukun (يْ) muncul setelah huruf yang berharakat Kasroh (ِ)</p>
                            <div class="step-arabic">بِي</div>
                            <p style="text-align: center;">Huruf Ba + Kasroh + Ya sukun = Bacaan panjang!</p>
                        </div>
                        
                        <div class="step">
                            <div class="step-number">2</div>
                            <h4>⏱️ Berapa Lama Dibaca?</h4>
                            <p>Ya Mad dibaca dengan panjang <strong>2 harakat</strong> (sekitar 1 detik)</p>
                            <div style="text-align: center; margin: 15px 0;">
                                <div style="display: inline-block; background: rgba(255,255,255,0.2); padding: 10px 20px; border-radius: 10px;">
                                    <span style="font-size: 1.5rem;">⏰ 1 detik = 2 harakat</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="step">
                            <div class="step-number">3</div>
                            <h4>📝 Contoh-contoh Ya Mad</h4>
                            <p>Klik pada contoh di bawah untuk mendengar cara bacanya:</p>
                            <div class="interactive-examples">
                                <div class="mini-example" onclick="playExample('فِيهَا', 'di dalamnya')">
                                    <div class="mini-example-arabic">فِيهَا</div>
                                    <div class="mini-example-meaning">di dalamnya</div>
                                </div>
                                <div class="mini-example" onclick="playExample('بَيْتَ', 'rumah')">
                                    <div class="mini-example-arabic">بَيْتَ</div>
                                    <div class="mini-example-meaning">rumah</div>
                                </div>
                                <div class="mini-example" onclick="playExample('فِيلَ', 'gajah')">
                                    <div class="mini-example-arabic">فِيلَ</div>
                                    <div class="mini-example-meaning">gajah</div>
                                </div>
                                <div class="mini-example" onclick="playExample('دِينَ', 'agama')">
                                    <div class="mini-example-arabic">دِينَ</div>
                                    <div class="mini-example-meaning">agama</div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }
            
            body.innerHTML = content;
            modal.style.display = 'flex';
            
            // Add click outside to close
            modal.onclick = function(e) {
                if (e.target === modal) {
                    closeMadExplanation();
                }
            };
        }
        
        function closeMadExplanation() {
            const modal = document.getElementById('madExplanationModal');
            modal.style.display = 'none';
        }
        
        function playExample(arabic, meaning) {
            // Visual feedback for playing example
            const feedback = document.createElement('div');
            feedback.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(135deg, #00b894, #00a085);
                color: white;
                padding: 15px 20px;
                border-radius: 10px;
                font-size: 1.1rem;
                z-index: 3000;
                box-shadow: 0 5px 20px rgba(0,0,0,0.3);
                animation: slideInRight 0.5s ease-out;
            `;
            
            feedback.innerHTML = `
                🔊 <span style="font-size: 1.3rem; font-family: 'Times New Roman', serif;">${arabic}</span><br>
                <small>"${meaning}" - Panjang 2 harakat</small>
            `;
            
            document.body.appendChild(feedback);
            
            setTimeout(() => {
                feedback.style.animation = 'slideOutRight 0.5s ease-in';
                setTimeout(() => {
                    if (document.body.contains(feedback)) {
                        document.body.removeChild(feedback);
                    }
                }, 500);
            }, 2500);
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            displayQuestion();
            updateProgress();
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'98a255cff0356034',t:'MTc1OTcyNDEwMS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
